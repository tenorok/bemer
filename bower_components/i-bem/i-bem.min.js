/*!
 * @file i-bem â€” library to write client side with BEM methodology
 * @version 2.5.1
 * @tutorial http://ru.bem.info/libs/bem-bl/dev/desktop.sets/i-bem/
 * @link https://github.com/bem-node/i-bem-doc
 */
!function(a){function b(b,d,e){var g=!1;if(f){var h=[];a.each(i,function(){e.hasOwnProperty(this)&&(g=!0)&&h.push({name:this,val:e[this]})}),g&&(a.each(e,function(a){h.push({name:a,val:this})}),e=h)}a.each(e,function(e,f){if(g&&(e=f.name,f=f.val),a.isFunction(f)&&(!c||f.toString().indexOf(".__base")>-1)){var h=b[e]||function(){};d[e]=function(){var a=this.__base;this.__base=h;var b=f.apply(this,arguments);return this.__base=a,b}}else d[e]=f})}var c=function(){"_"}.toString().indexOf("_")>-1,d=function(){},e=Object.create||function(a){var b=function(){};return b.prototype=a,new b},f=!0,g={toString:""};for(var h in g)g.hasOwnProperty(h)&&(f=!1);var i=f?["toString","valueOf"]:null;a.inherit=function(){var c=arguments,f=a.isFunction(c[0]),g=f?c[0]:d,h=c[f?1:0]||{},i=c[f?2:1],j=h.__constructor||f&&g.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!f)return j.prototype=h,j.prototype.__self=j.prototype.constructor=j,a.extend(j,i);a.extend(j,g);var k=g.prototype,l=j.prototype=e(k);return l.__self=l.constructor=j,b(k,l,h),i&&b(g,j,i),j},a.inheritSelf=function(a,c,d){var e=a.prototype;return b(e,e,c),d&&b(a,a,d),a}}(jQuery),function(a){var b=0,c="__"+ +new Date,d=function(){return"uniq"+ ++b};a.identify=function(a,b){if(!a)return d();var e="uniqueID"in a?"uniqueID":c;return b||e in a?a[e]:a[e]=d()}}(jQuery),function(a){a.isEmptyObject||(a.isEmptyObject=function(a){for(var b in a)return!1;return!0})}(jQuery),function(a){a.extend({debounce:function(a,b,c,d){3==arguments.length&&"boolean"!=typeof c&&(d=c,c=!1);var e;return function(){var f=arguments;d=d||this,c&&!e&&a.apply(d,f),clearTimeout(e),e=setTimeout(function(){c||a.apply(d,f),e=null},b)}},throttle:function(a,b,c){var d,e,f;return function(){e=arguments,f=!0,c=c||this,d||function(){f?(a.apply(c,e),f=!1,d=setTimeout(arguments.callee,b)):d=null}()}}})}(jQuery),function(a){var b="__"+ +new Date+"storage",c=function(b,c){return a.identify(b)+(c?a.identify(c):"")},d={buildEventName:function(a){return a},on:function(d,e,f,g,h){if("string"==typeof d){a.isFunction(e)&&(g=f,f=e,e=void 0);for(var i,j=c(f,g),k=this[b]||(this[b]={}),l=d.split(" "),m=0;d=l[m++];)if(d=this.buildEventName(d),i=k[d]||(k[d]={ids:{},list:{}}),!(j in i.ids)){var n=i.list,o={fn:f,data:e,ctx:g,special:h};n.last?(n.last.next=o,o.prev=n.last):n.first=o,i.ids[j]=n.last=o}}else{var p=this;a.each(d,function(a,b){p.on(a,b,e,h)})}return this},onFirst:function(a,b,c,d){return this.on(a,b,c,d,{one:!0})},un:function(d,e,f){if("string"==typeof d||"undefined"==typeof d){var g=this[b];if(g)if(d){for(var h,i=d.split(" "),j=0;d=i[j++];)if(d=this.buildEventName(d),h=g[d])if(e){var k=c(e,f),l=h.ids;if(k in l){var m=h.list,n=l[k],o=n.prev,p=n.next;o?o.next=p:n===m.first&&(m.first=p),p?p.prev=o:n===m.last&&(m.last=o),delete l[k]}}else delete this[b][d]}else delete this[b]}else{var q=this;a.each(d,function(a,b){q.un(a,b,f)})}return this},trigger:function(c,d){var e,f=this,g=f[b];if("string"==typeof c?c=a.Event(f.buildEventName(e=c)):c.type=f.buildEventName(e=c.type),c.target||(c.target=f),g&&(g=g[c.type]))for(var h,i=g.list.first;i;)c.data=i.data,h=i.fn.call(i.ctx||f,c,d),"undefined"!=typeof h&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation())),i.special&&i.special.one&&f.un(e,i.fn,i.ctx),i=i.next;return this}};a.observable=a.inherit(d,d)}(jQuery),function(a,b){function c(a,b,c){return(a?"__elem_"+a:"")+"__mod"+(b?"_"+b:"")+(c?"_"+c:"")}function d(b,d,e){a.isFunction(b)?d[c(e,"*","*")]=b:a.each(b,function(b,f){a.isFunction(f)?d[c(e,b,"*")]=f:a.each(f,function(a,f){d[c(e,b,a)]=f})})}function e(a,b){return b?Array.isArray(b)?function(c){for(var d=0,e=b.length;e>d;)if(c.hasMod(a,b[d++]))return!0;return!1}:function(c){return c.hasMod(a,b)}:function(b){return b.hasMod(a)}}var f=[],g={},h={};this.BEM=a.inherit(a.observable,{__constructor:function(a,b,c){var d=this;d._modCache=a||{},d._processingMods={},d._params=b,d.params=null,c!==!1?d._init():d.afterCurrentEvent(function(){d._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=a.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(a,b){return a.bind(b||this)},afterCurrentEvent:function(a,b){this.__self.afterCurrentEvent(this.changeThis(a,b))},trigger:function(a,b){return this.__base(a=this.buildEvent(a),b).__self.trigger(a,b),this},buildEvent:function(b){return"string"==typeof b&&(b=a.Event(b)),b.block=this,b},hasMod:function(a,c,d){var e=arguments.length,f=!1;1==e?(d="",c=a,a=b,f=!0):2==e&&("string"==typeof a?(d=c,c=a,a=b):(d="",f=!0));var g=this.getMod(a,c)===d;return f?!g:g},getMod:function(a,b){var c=typeof a;if("string"===c||"undefined"===c){b=a||b;var d=this._modCache;return b in d?d[b]:d[b]=this._extractModVal(b)}return this._getElemMod(b,a)},_getElemMod:function(a,b,c){return this._extractModVal(a,b,c)},getMods:function(a){var c=a&&"string"!=typeof a,d=this,e=[].slice.call(arguments,c?1:0),f=d._extractMods(e,c?a:b);return c||(e.length?e.forEach(function(a){d._modCache[a]=f[a]}):d._modCache=f),f},setMod:function(c,d,e){"undefined"==typeof e&&(e=d,d=c,c=b);var f=this;if(!c||c[0]){var g=(c&&c[0]?a.identify(c[0]):"")+"_"+d;if(this._processingMods[g])return f;var h,i=c?f._getElemMod(d,c,h=f.__self._extractElemNameFrom(c)):f.getMod(d);if(i===e)return f;this._processingMods[g]=!0;var j=!0,k=[d,e,i];c&&k.unshift(c),[["*","*"],[d,"*"],[d,e]].forEach(function(a){j=f._callModFn(h,a[0],a[1],k)!==!1&&j}),!c&&j&&(f._modCache[d]=e),j&&f._afterSetMod(d,e,i,c,h),delete this._processingMods[g]}return f},_afterSetMod:function(){},toggleMod:function(a,c,d,e,f){"string"==typeof a&&(f=e,e=d,d=c,c=a,a=b),"undefined"==typeof e?e="":"boolean"==typeof e&&(f=e,e="");var g=this.getMod(a,c);return(g==d||g==e)&&this.setMod(a,c,"boolean"==typeof f?f?d:e:this.hasMod(a,c,d)?e:d),this},delMod:function(a,c){return c||(c=a,a=b),this.setMod(a,c,"")},_callModFn:function(a,d,e,f){var g=c(a,d,e);return this[g]?this[g].apply(this,f):b},_extractModVal:function(){return""},_extractMods:function(){return{}},channel:function(a,b){return this.__self.channel(a,b)},getDefaultParams:function(){return{}},del:function(a){var b=[].slice.call(arguments);return"string"==typeof a&&b.unshift(this),this.__self.del.apply(this.__self,b),this},destruct:function(){}},{_name:"i-bem",blocks:g,decl:function(c,f,h){if("string"==typeof c?c={block:c}:c.name&&(c.block=c.name),c.baseBlock&&!g[c.baseBlock])throw'baseBlock "'+c.baseBlock+'" for "'+c.block+'" is undefined';f||(f={}),f.onSetMod&&(d(f.onSetMod,f),delete f.onSetMod),f.onElemSetMod&&(a.each(f.onElemSetMod,function(a,b){d(b,f,a)}),delete f.onElemSetMod);var i=g[c.baseBlock||c.block]||this;if(c.modName){var j=e(c.modName,c.modVal);a.each(f,function(c,d){a.isFunction(d)&&(f[c]=function(){var a;if(j(this))a=d;else{var e=i.prototype[c];e&&e!==f[c]&&(a=this.__base)}return a?a.apply(this,arguments):b})})}if(h&&"boolean"==typeof h.live){var k=h.live;h.live=function(){return k}}var l;return c.block==i._name?(l=a.inheritSelf(i,f,h))._processLive(!0):((l=g[c.block]=a.inherit(i,f,h))._name=c.block,delete l._liveInitable),l},_processLive:function(){return!1},create:function(a,b){return"string"==typeof a&&(a={block:a}),new g[a.block](a.mods,b)},getName:function(){return this._name},_extractElemNameFrom:function(){},afterCurrentEvent:function(a,b){1==f.push({fn:a,ctx:b})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var a=f.length;if(a)for(var b,c=f.splice(0,a);b=c.shift();)b.fn.call(b.ctx||this)},changeThis:function(a,b){return a.bind(b||this)},del:function(a){var b="string"==typeof a,c=b?0:1,d=arguments.length;for(b&&(a=this);d>c;)delete a[arguments[c++]];return this},channel:function(c,d){return"boolean"==typeof c&&(d=c,c=b),c||(c="default"),d?void(h[c]&&(h[c].un(),delete h[c])):h[c]||(h[c]=new a.observable)}})}(jQuery),function(){Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b})}(),function(){var a=Array.prototype,b=Object.prototype.toString,c={indexOf:function(a,b){b=+(b||0);var c=this,d=c.length;if(d>0&&d>b)for(b=0>b?Math.ceil(b):Math.floor(b),-d>b&&(b=0),0>b&&(b+=d);d>b;){if(b in c&&c[b]===a)return b;++b}return-1},forEach:function(a,b){for(var c=-1,d=this,e=d.length;++c<e;)c in d&&(b?a.call(b,d[c],c,d):a(d[c],c,d))},map:function(a,b){for(var c=-1,d=this,e=d.length,f=new Array(e);++c<e;)c in d&&(f[c]=b?a.call(b,d[c],c,d):a(d[c],c,d));return f},filter:function(a,b){for(var c=-1,d=this,e=d.length,f=[];++c<e;)c in d&&(b?a.call(b,d[c],c,d):a(d[c],c,d))&&f.push(d[c]);return f},reduce:function(a,b){var c,d=-1,e=this,f=e.length;if(arguments.length<2){for(;++d<f;)if(d in e){c=e[d];break}}else c=b;for(;++d<f;)d in e&&(c=a(c,e[d],d,e));return c},some:function(a,b){for(var c=-1,d=this,e=d.length;++c<e;)if(c in d&&(b?a.call(b,d[c],c,d):a(d[c],c,d)))return!0;return!1},every:function(a,b){for(var c=-1,d=this,e=d.length;++c<e;)if(c in d&&!(b?a.call(b,d[c],c,d):a(d[c],c,d)))return!1;return!0}};for(var d in c)a[d]||(a[d]=c[d]);Array.isArray||(Array.isArray=function(a){return"[object Array]"===b.call(a)})}(),function(){var a=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(b){var c=this,d=a.call(arguments,1);return function(){return c.apply(b,d.concat(a.call(arguments)))}})}(),function(a,b,c){function d(a,b,c){c.push(g,a,g,b)}function e(a,b,c,e){e.push(a),c&&d(b,c,e)}function f(a,b,f,g,i){e(a,c,c,i),i.push(h,b),g&&d(f,g,i)}var g="_",h="__",i="[a-zA-Z0-9-]+";a.INTERNAL={NAME_PATTERN:i,MOD_DELIM:g,ELEM_DELIM:h,buildModPostfix:function(a,b,c){var e=c||[];return d(a,b,e),c?e:e.join("")},buildClass:function(a,b,d,g,h){var i=typeof d;if("string"==i?"string"!=typeof g&&"number"!=typeof g&&(h=g,g=d,d=b,b=c):"undefined"!=i?(h=d,d=c):b&&"string"!=typeof b&&(h=b,b=c),!(b||d||h))return a;var j=h||[];return b?f(a,b,d,g,j):e(a,d,g,j),h?j:j.join("")},buildClasses:function(a,d,g,h){d&&"string"!=typeof d&&(h=g,g=d,d=c);var i=h||[];return d?f(a,d,c,c,i):e(a,c,c,i),g&&b.each(g,function(b,c){c&&(i.push(" "),d?f(a,d,b,c,i):e(a,b,c,i))}),h?i:i.join("")}}}(BEM,jQuery),function(a,b,c){function d(a,c){var d=a[0];b.each(h(d),function(g,h){f(h,d,g,c);var i=o[h.uniqId];i?i.domElem.index(d)<0&&(i.domElem=i.domElem.add(a),b.extend(i._params,h)):e(g,a,h)})}function e(a,d,e,g,i){"boolean"==typeof e&&(i=g,g=e,e=c);var j=d[0];e=f(e||h(j)[a],j,a);var k=e.uniqId;if(o[k])return o[k]._init();n[k]=n[k]?n[k].add(d):d;var l=j.parentNode;l&&11!==l.nodeType||b.unique(n[k]);var m=s[a]||B.decl(a,{},{live:!0});if(!(m._liveInitable=!!m._processLive())||g||e.live===!1){g&&d.addClass("i-bem");var p=new m(n[k],e,!!g);return delete n[k],i&&i.apply(p,z.call(arguments,4)),p}}function f(a,c,d,e){(a||(a={})).uniqId||(a.uniqId=(a.id?d+"-id-"+a.id:b.identify())+(e||b.identify()));var f=b.identify(c),g=p[f]||(p[f]={});return g[d]||(g[d]=a),a}function g(a,b,c){var d=a.find(b);return c?d:d.add(a.filter(b))}function h(a){var c=b.identify(a);return p[c]||(p[c]=i(a))}function i(a){var c,d,e=a.getAttribute("data-bem");return e?JSON.parse(e):(c=a.onclick||a.ondblclick,c||"body"!=a.tagName.toLowerCase()||(d=b(a),e=d.attr("onclick")||d.attr("ondblclick"),e&&(c=Function(e))),c?c():{})}function j(a){delete p[b.identify(a)]}function k(a,b){1===a.domElem.length?a.destruct(!0):a.domElem=a.domElem.not(b)}var l=b(window),m=b(document),n={},o={},p={},q={},r={},s=a.blocks,t=a.INTERNAL,u=t.NAME_PATTERN,v=t.MOD_DELIM,w=t.ELEM_DELIM,x=t.buildModPostfix,y=t.buildClass,z=Array.prototype.slice,A=Array.prototype.reverse;b.fn.bem=function(a,b){return e(a,this,b,!0)};var B=a.DOM=a.decl("i-bem__dom",{__constructor:function(a,c,d){var e=this;e.domElem=a,e._eventNameCache={},e._elemCache={},o[e._uniqId=c.uniqId||b.identify(e)]=e,e._needSpecialUnbind=!1,e.__base(null,c,d)},findBlocksInside:function(a,b){return this._findBlocks("find",a,b)},findBlockInside:function(a,b){return this._findBlocks("find",a,b,!0)},findBlocksOutside:function(a,b){return this._findBlocks("parents",a,b)},findBlockOutside:function(a,b){return this._findBlocks("closest",a,b)[0]||null},findBlocksOn:function(a,b){return this._findBlocks("",a,b)},findBlockOn:function(a,b){return this._findBlocks("",a,b,!0)},_findBlocks:function(a,d,f,g){if(!this.domElem)return[];f||(f=d,d=c);var h=d?"string"==typeof d?this.findElem(d):d:this.domElem,i="string"==typeof f,j=i?f:f.block||f.blockName,k="."+(i?y(j):y(j,f.modName,f.modVal))+(g?":first":""),l=h.filter(k);if(a&&(l=l.add(h[a](k))),g)return l[0]?e(j,l.eq(0),!0):null;var m=[],n={};return b.each(l,function(a,c){var d=e(j,b(c),!0);n[d._uniqId]||(n[d._uniqId]=!0,m.push(d))}),m},bindToDomElem:function(a,c,d){var e=this;return d?a.bind(e._buildEventName(c),function(a){return(a.data||(a.data={})).domElem=b(this),d.apply(e,arguments)}):b.each(c,function(b,c){e.bindToDomElem(a,b,c)}),e},bindToDoc:function(a,b){return this._needSpecialUnbind=!0,this.bindToDomElem(m,a,b)},bindToWin:function(a,b){var c,d,e=b;return"resize"===a&&(b=function(){var a=l.height(),b=l.width();(c!==a||d!==b)&&(c=a,d=b,e.apply(this,arguments))}),this._needSpecialUnbind=!0,this.bindToDomElem(l,a,b)},bindTo:function(a,c,d){return!c||b.isFunction(c)?(d=c,c=a,a=this.domElem):"string"==typeof a&&(a=this.elem(a)),this.bindToDomElem(a,c,d)},unbindFromDomElem:function(a,b){return a.unbind(this._buildEventName(b)),this},unbindFromDoc:function(a){return this.unbindFromDomElem(m,a)},unbindFromWin:function(a){return this.unbindFromDomElem(l,a)},unbindFrom:function(a,b){return b?"string"==typeof a&&(a=this.elem(a)):(b=a,a=this.domElem),this.unbindFromDomElem(a,b)},_buildEventName:function(a){var b=this;return a.indexOf(" ")>1?a.split(" ").map(function(a){return b._buildOneEventName(a)}).join(" "):b._buildOneEventName(a)},_buildOneEventName:function(a){var b=this,c=b._eventNameCache;if(a in c)return c[a];var d="."+b._uniqId;if(a.indexOf(".")<0)return c[a]=a+d;var e=".bem_"+b.__self._name;return c[a]=a.split(".").map(function(a,b){return 0==b?a+e:e+"_"+a}).join("")+d},trigger:function(a,b){return this.__base(a=this.buildEvent(a),b).domElem&&this._ctxTrigger(a,b),this},_ctxTrigger:function(a,c){var d=this,e=q[d.__self._buildCtxEventName(a.type)],f={};e&&d.domElem.each(function(){for(var g=this,h=e.counter;g&&h;){var i=b.identify(g,!0);if(i){if(f[i])break;var j=e.ctxs[i];j&&(b.each(j,function(b,e){e.fn.call(e.ctx||d,a,c)}),h--),f[i]=!0}g=g.parentNode}})},setMod:function(a,c,d){if(a&&"undefined"!=typeof d&&a.length>1){var e=this;return a.each(function(){var f=b(this);f.__bemElemName=a.__bemElemName,e.setMod(f,c,d)}),e}return this.__base(a,c,d)},_extractModVal:function(a,b,c){var d,e=(b||this.domElem)[0];return e&&(d=e.className.match(this.__self._buildModValRE(a,c||b))),d?d[2]:""},_extractMods:function(a,b){var c={},d=!a.length,e=0;return((b||this.domElem)[0].className.match(this.__self._buildModValRE("("+(d?u:a.join("|"))+")",b,"g"))||[]).forEach(function(a){var b=(a=a.trim()).lastIndexOf(v),d=a.substr(0,b-1).lastIndexOf(v);c[a.substr(d+1,b-d-1)]=a.substr(b+1),++e}),e<a.length&&a.forEach(function(a){a in c||(c[a]="")}),c},_afterSetMod:function(a,c,d,e,f){var g=this.__self,h=g._buildModClassPrefix(a,f),i=g._buildModValRE(a,f),j=""===c;(e||this.domElem).each(function(){var a=this.className;a.indexOf(h)>-1?this.className=a.replace(i,j?"":"$1"+h+c):j||b(this).addClass(h+c)}),f&&this.dropElemCache(f,a,d).dropElemCache(f,a,c)},findElem:function(a,b,c,d){arguments.length%2?(d=c,c=b,b=a,a=this.domElem):"string"==typeof a&&(a=this.findElem(a));var e=this.__self,f="."+b.split(" ").map(function(a){return y(e._name,a,c,d)}).join(",.");return g(a,f)},_elem:function(a,b,c){var d,e=a+x(b,c);return(d=this._elemCache[e])||(d=this._elemCache[e]=this.findElem(a,b,c),d.__bemElemName=a),d},elem:function(a,c,d){if(c&&"string"!=typeof c)return c.__bemElemName=a,c;if(a.indexOf(" ")<0)return this._elem(a,c,d);var e=b([]),f=this;return a.split(" ").forEach(function(a){e=e.add(f._elem(a,c,d))}),e},dropElemCache:function(a,b,c){if(a){var d=this,e=x(b,c);a.indexOf(" ")<0?delete d._elemCache[a+e]:a.split(" ").forEach(function(a){delete d._elemCache[a+e]})}else this._elemCache={};return this},elemParams:function(a){var b;return"string"==typeof a?(b=a,a=this.elem(a)):b=this.__self._extractElemNameFrom(a),i(a[0])[y(this.__self.getName(),b)]||{}},elemify:function(a,c){return(a=b(a)).__bemElemName=c,a},containsDomElem:function(a){var b=!1;return this.domElem.each(function(){return!(b=a.parents().andSelf().index(this)>-1)}),b},buildSelector:function(a,b,c){return this.__self.buildSelector(a,b,c)},destruct:function(a){var c=this,d=c.__self;c._isDestructing||(c._isDestructing=!0,c._needSpecialUnbind&&d.doc.add(d.win).unbind("."+c._uniqId),c.dropElemCache().domElem.each(function(a,c){var d=h(c);b.each(d,function(a,b){var d=o[b.uniqId];d?d._isDestructing||k(d,c):delete n[b.uniqId]}),j(c)}),a||c.domElem.remove(),delete o[c.un()._uniqId],delete c.domElem,delete c._elemCache,c.__base())}},{scope:null,doc:m,win:l,_processLive:function(a){var b=this,c=b._liveInitable;if("live"in b){var d="undefined"==typeof c;if(d^a){c=b.live()!==!1;var e=b.getName(),f=b.live;b.live=function(){return this.getName()===e?c:f.apply(this,arguments)}}}return c},init:function(a,c,e){(!a||b.isFunction(a))&&(e=c,c=a,a=m);var f=b.identify();return g(a,".i-bem").each(function(){d(b(this),f)}),c&&this.afterCurrentEvent(function(){c.call(e||this,a)}),this._runAfterCurrentEventFns(),a},destruct:function(a,d,e){"boolean"!=typeof a&&(e=d,d=a,a=c),A.call(g(d,".i-bem",e)).each(function(a,c){var d=h(this);b.each(d,function(a,b){if(b.uniqId){var d=o[b.uniqId];d?k(d,c):delete n[b.uniqId]}}),j(this)}),a||(e?d.empty():d.remove())},update:function(a,b,c,d){return this.destruct(a,!0),this.init(a.html(b),c,d)},replace:function(a,c){return this.destruct(!0,a),this.init(b(c).replaceAll(a))},append:function(a,c){return this.init(b(c).appendTo(a))},prepend:function(a,c){return this.init(b(c).prependTo(a))},before:function(a,c){return this.init(b(c).insertBefore(a))},after:function(a,c){return this.init(b(c).insertAfter(a))},_buildCtxEventName:function(a){return this._name+":"+a},_liveClassBind:function(a,c,d,e){var f=this;if(c.indexOf(" ")>-1)c.split(" ").forEach(function(b){f._liveClassBind(a,b,d,e)});else{var g=r[c],h=b.identify(d);g||(g=r[c]={},m.bind(c,f.changeThis(f._liveClassTrigger,f))),g=g[a]||(g[a]={uniqIds:{},fns:[]}),h in g.uniqIds||(g.fns.push({uniqId:h,fn:f._buildLiveEventFn(d,e)}),g.uniqIds[h]=g.fns.length-1)}return this},_liveClassUnbind:function(a,c,d){var e=r[c];if(e)if(d){if(e=e[a]){var f=b.identify(d);if(f in e.uniqIds){var g=e.uniqIds[f],h=e.fns.length-1;for(e.fns.splice(g,1);h>g;)e.uniqIds[e.fns[g++].uniqId]=g-1;delete e.uniqIds[f]}}}else delete e[a];return this},_liveClassTrigger:function(a){var c=r[a.type];if(c){var d=a.target,e=[];for(var f in c)c.hasOwnProperty(f)&&e.push(f);do for(var g=" "+d.className+" ",h=0;f=e[h++];)if(g.indexOf(" "+f+" ")>-1){for(var i,j=0,k=c[f].fns,l=!1;i=k[j++];)i.fn.call(b(d),a)===!1&&(l=!0);if(l&&a.preventDefault(),l||a.isPropagationStopped())return;e.splice(--h,1)}while(e.length&&(d=d.parentNode))}},_buildLiveEventFn:function(a,c){var d=this;return function(f){var g=[d._name,((f.data||(f.data={})).domElem=b(this)).closest(d.buildSelector()),!0],h=e.apply(null,c?g.concat([a,f]):g);return h&&!c&&a?a.apply(h,arguments):void 0}},liveInitOnEvent:function(a,b,c){return this.liveBindTo(a,b,c,!0)},liveBindTo:function(a,d,e,f){(!d||b.isFunction(d))&&(e=d,d=a,a=c),a&&"string"!=typeof a||(a={elem:a}),a.elemName&&(a.elem=a.elemName);var g=this;return a.elem&&a.elem.indexOf(" ")>0?(a.elem.split(" ").forEach(function(b){g._liveClassBind(y(g._name,b,a.modName,a.modVal),d,e,f)}),g):g._liveClassBind(y(g._name,a.elem,a.modName,a.modVal),d,e,f)},liveUnbindFrom:function(a,d,e){(!d||b.isFunction(d))&&(e=d,d=a,a=c);var f=this;return a&&a.indexOf(" ")>1?(a.split(" ").forEach(function(a){f._liveClassUnbind(y(f._name,a),d,e)}),f):f._liveClassUnbind(y(f._name,a),d,e)},_liveInitOnBlockEvent:function(a,b,c,d){var e=this._name;return s[b].on(a,function(a){if(a.block.domElem){var b=arguments,f=a.block[d](e);c&&f.forEach(function(a){c.apply(a,b)})}}),this},liveInitOnBlockEvent:function(a,b,c){return this._liveInitOnBlockEvent(a,b,c,"findBlocksOn")},liveInitOnBlockInsideEvent:function(a,b,c){return this._liveInitOnBlockEvent(a,b,c,"findBlocksOutside")},liveInitOnBlockInit:function(a,b){return this.liveInitOnBlockEvent("init",a,b)},liveInitOnBlockInsideInit:function(a,b){return this.liveInitOnBlockInsideEvent("init",a,b)},on:function(a,b,c,d,e){return a.jquery?this._liveCtxBind(a,b,c,d,e):this.__base(a,b,c,d)},un:function(a,b,c,d){return a.jquery?this._liveCtxUnbind(a,b,c,d):this.__base(a,b,c)},liveCtxBind:function(a,b,c,d,e){return this._liveCtxBind(a,b,c,d,e)},_liveCtxBind:function(a,d,e,f,g){var h=this;if("string"==typeof d)if(b.isFunction(e)&&(g=f,f=e,e=c),d.indexOf(" ")>-1)d.split(" ").forEach(function(b){h._liveCtxBind(a,b,e,f,g)});else{var i=h._buildCtxEventName(d),j=q[i]||(q[i]={counter:0,ctxs:{}});a.each(function(){var a=b.identify(this),c=j.ctxs[a];c||(c=j.ctxs[a]={},++j.counter),c[b.identify(f)+(g?b.identify(g):"")]={fn:f,data:e,ctx:g}})}else b.each(d,function(b,c){h._liveCtxBind(a,b,c,e)});return h},liveCtxUnbind:function(a,b,c,d){return this._liveCtxUnbind(a,b,c,d)},_liveCtxUnbind:function(a,c,d,e){var f=this,g=q[c=f._buildCtxEventName(c)];return g&&(a.each(function(){var a,c=b.identify(this,!0);c&&(a=g.ctxs[c])&&(d&&delete a[b.identify(d)+(e?b.identify(e):"")],(!d||b.isEmptyObject(a))&&(g.counter--,delete g.ctxs[c]))}),g.counter||delete q[c]),f},_extractElemNameFrom:function(a){if(a.__bemElemName)return a.__bemElemName;var b=a[0].className.match(this._buildElemNameRE());return b?b[1]:c},extractParams:i,_buildModClassPrefix:function(a,b){return y(this._name)+(b?w+("string"==typeof b?b:this._extractElemNameFrom(b)):"")+v+a+v},_buildModValRE:function(a,b,c){return new RegExp("(\\s|^)"+this._buildModClassPrefix(a,b)+"("+u+")(?=\\s|$)",c)},_buildElemNameRE:function(){return new RegExp(this._name+w+"("+u+")(?:\\s|$)")},buildSelector:function(a,b,c){return"."+y(this._name,a,b,c)},getBlockByUniqId:function(a){return o[a]},getWindowSize:function(){return{width:l.width(),height:l.height()}}});b(function(){a.DOM.scope=b("body")})}(BEM,jQuery),function(){String.prototype.trim||(String.prototype.trim=function(){for(var a=this.replace(/^\s\s*/,""),b=/\s/,c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)})}(),function(a){if(!window.JSON){var b,c=Object.prototype.toString,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};window.JSON={stringify:b=function(f){if(null===f)return"null";if("undefined"==typeof f)return a;switch(c.call(f)){case"[object String]":return d.lastIndex=0,'"'+(d.test(f)?f.replace(d,function(a){var b=e[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}):f)+'"';case"[object Number]":case"[object Boolean]":return""+f;case"[object Array]":for(var g,h="[",i=0,j=f.length;j>i;)g=b(f[i]),h+=(i++?",":"")+("undefined"==typeof g?"null":g);return h+"]";case"[object Object]":if("[object Function]"===c.call(f.toJSON))return b(f.toJSON());var g,h="{",i=0;for(var k in f)f.hasOwnProperty(k)&&(g=b(f[k]),"undefined"!=typeof g&&(h+=(i++?",":"")+'"'+k+'":'+g));return h+"}";default:return a}},parse:function(a){return Function("return "+a)()}}}}();